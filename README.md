# Nestjs를 이용한 블로그 서버
## 개요
- React와 Github page를 이용한 블로그 및 포트폴리오 구현에서 서버를 담당한다.
- 요즘 핫한 nestjs를 배워보자는 취지에서 nestjs를 사용했다.
- 배포는 간단히 하기 위해 heroku로 하였다.(근데 간단하지 않았음... 몽고db가 말썽을 일으켜서)
## 구조
- 인증 부분을 담당하는 auth
- 블로그 포스트 api(crud)를 담당하는 posts
- 로그인 api를 담당하는 user
- 이렇게 세 부분으로 나눌 수 있다.
## 기타
- db는 mongoose를 사용하였다.
### mongolab 서비스가 중단되어 참고하던 사이트들이 쓸모가 없게 되었다. 구글과 유튭을 뒤져보고 해결책을 강구한 결과 mongodb atlas를 이용하여 정상적으로 herkou에서 mongoose를 사용할 수 있었다.
- 배포는 heroku로 했다.
### 일정 시간 동안 요청이 없으면 sleep 상태가 되는 헤로쿠의 특징 때문에 cron을 사용하여 주기적으로 깨워주려고 했으나 정상적으로 동작하지 않아 kaffeine에 주소를 등록하여 서버가 잠들지 않도록 했다.
- 인증 부분은 passport와 jwt를 이용했다.
